{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useCallback, useEffect } from 'react';\nimport AppLayout from '../components/AppLayout';\nimport Head from 'next/head';\nimport { Card, Avatar, Button } from 'antd';\nimport styled from 'styled-components';\nimport EditUser from '../components/EditUser';\nimport EditBucket from '../components/EditBucket';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Router from 'next/router';\nimport { LOG_OUT_REQUEST } from '../reducers/user';\nimport { LOAD_BUCKET_REQUEST } from '../reducers/bucket';\nvar CenterDiv = styled.div.withConfig({\n  displayName: \"profile__CenterDiv\",\n  componentId: \"u1xmpn-0\"\n})([\"width:75%;margin:0 auto;\"]);\nvar CustomCard = styled(Card).withConfig({\n  displayName: \"profile__CustomCard\",\n  componentId: \"u1xmpn-1\"\n})([\"margin-top:20px;\"]);\n\nvar Profile = function Profile() {\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      isLoggedIn = _useSelector.isLoggedIn,\n      user = _useSelector.user;\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (!isLoggedIn) {\n      Router.push('/login');\n    }\n  }, [isLoggedIn]);\n\n  if (!isLoggedIn) {\n    return '내 정보 로딩중...';\n  }\n\n  var _useState = useState(false),\n      value = _useState[0],\n      setValue = _useState[1]; //정보 수정 클릭\n\n\n  var onClickUser = useCallback(function () {\n    setValue(false);\n  }, [value]); //버킷리스트 수정 클릭\n\n  var onClickBucket = useCallback(function (e) {\n    dispatch({\n      type: LOAD_BUCKET_REQUEST\n    });\n    setValue(true);\n  }, [value]); //로그아웃 클릭\n\n  var onLogOut = useCallback(function () {\n    dispatch({\n      type: LOG_OUT_REQUEST\n    });\n    Router.push('/');\n  }, []);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"meta\", {\n        charSet: \"utf-8\"\n      }), /*#__PURE__*/_jsx(\"title\", {\n        children: \"Profile\"\n      })]\n    }), isLoggedIn && /*#__PURE__*/_jsx(AppLayout, {\n      children: /*#__PURE__*/_jsxs(CenterDiv, {\n        children: [/*#__PURE__*/_jsxs(CustomCard, {\n          actions: [/*#__PURE__*/_jsxs(\"div\", {\n            onClick: onClickUser,\n            children: [\"\\uC815\\uBCF4 \\uC218\\uC815\", /*#__PURE__*/_jsx(\"br\", {})]\n          }, \"twit\"), /*#__PURE__*/_jsxs(\"div\", {\n            onClick: onClickBucket,\n            children: [\"\\uBC84\\uD0B7\\uB9AC\\uC2A4\\uD2B8 \\uAD00\\uB9AC\", /*#__PURE__*/_jsx(\"br\", {})]\n          }, \"followings\")],\n          children: [/*#__PURE__*/_jsx(Card.Meta, {\n            avatar: /*#__PURE__*/_jsx(Avatar, {}),\n            title: user.nickname\n          }), /*#__PURE__*/_jsx(Button, {\n            onClick: onLogOut,\n            children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n          })]\n        }), value ? /*#__PURE__*/_jsx(EditBucket, {}) : /*#__PURE__*/_jsx(EditUser, {})]\n      })\n    })]\n  });\n}; //SSR 적용 - getServerSidProps 사용\n\n\nexport var __N_SSP = true;\nexport default Profile;","map":null,"metadata":{},"sourceType":"module"}